<mxfile host="app.diagrams.net" modified="2026-02-25T20:00:00.000Z" agent="openclaw" version="24.7.17">
  <diagram id="bookFactoryArch" name="Book Factory Architecture">
    <mxGraphModel dx="1400" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="title" value="Multi-Agent Book Factory (Deterministic + Non-Deterministic)&#xa;Target Audience: Product Architect" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="300" y="20" width="980" height="70" as="geometry"/>
        </mxCell>

        <mxCell id="pm" value="Program Manager Agent&#xa;(Deterministic Control Plane)&#xa;- stage gating&#xa;- dependency tracking&#xa;- risk register" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="60" y="140" width="260" height="150" as="geometry"/>
        </mxCell>

        <mxCell id="research" value="Research Synthesis Agent&#xa;(Deterministic outputs)&#xa;Evidence Pack + Source Index" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="380" y="140" width="240" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="architect" value="Technical Architect Agent&#xa;(Deterministic blueprint)&#xa;Chapter architecture + diagram specs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="680" y="140" width="240" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="author" value="Author Agent&#xa;(Non-Deterministic)&#xa;Draft generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="980" y="140" width="210" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="review" value="Review Triad&#xa;(Deterministic rubrics)&#xa;- Technical&#xa;- Pedagogy&#xa;- Audience fit" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="980" y="290" width="210" height="130" as="geometry"/>
        </mxCell>

        <mxCell id="loopA" value="Loop A: Draft↔Review↔Revise&#xa;Max 3 iterations/chapter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1240" y="210" width="230" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="visual" value="Visual Intelligence Agent&#xa;(Hybrid)&#xa;Mermaid → PlantUML → draw.io final" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="680" y="330" width="240" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="qa" value="QA/Eval Agent&#xa;(Deterministic gates + LLM audits)&#xa;- structure completeness&#xa;- citation coverage&#xa;- hallucination checks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="380" y="330" width="240" height="140" as="geometry"/>
        </mxCell>

        <mxCell id="human" value="Human-in-the-Loop (Editor/Product Architect)&#xa;Feedback checkpoints at stage gates&#xa;Can approve/reject/escalate" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="350" width="260" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="publish" value="Publishing Agent&#xa;(Deterministic)&#xa;Package + release to target repo" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="680" y="520" width="240" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="loopB" value="Loop B: Visuals↔QA&#xa;Max 2 iterations/chapter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="980" y="500" width="220" height="80" as="geometry"/>
        </mxCell>

        <mxCell id="e1" edge="1" parent="1" source="pm" target="research" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e2" edge="1" parent="1" source="research" target="architect" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e3" edge="1" parent="1" source="architect" target="author" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e4" edge="1" parent="1" source="author" target="review" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e5" edge="1" parent="1" source="review" target="author" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#9673a6;dashed=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e6" edge="1" parent="1" source="review" target="visual" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e7" edge="1" parent="1" source="visual" target="qa" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e8" edge="1" parent="1" source="qa" target="visual" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#9673a6;dashed=1;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e9" edge="1" parent="1" source="qa" target="publish" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#666;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e10" edge="1" parent="1" source="human" target="pm" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#d79b00;"><mxGeometry relative="1" as="geometry"/></mxCell>
        <mxCell id="e11" edge="1" parent="1" source="human" target="qa" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#d79b00;"><mxGeometry relative="1" as="geometry"/></mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
